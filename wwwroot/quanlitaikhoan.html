<!DOCTYPE html>
<html lang="vi" data-bs-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quản Lý Tài Khoản - Cửa Hàng Mỹ Phẩm</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="quanlitaikhoan.css">
</head>
<body>
    <!-- Animated Background Effects -->
    <div class="animated-background">
        <!-- Aurora Effect -->
        <div class="aurora"></div>
        
        <!-- Organic Nature Patterns -->
        <div class="organic-pattern"></div>
        <div class="organic-pattern"></div>
        <div class="organic-pattern"></div>
        
        <!-- Floating Leaves -->
        <div class="leaf maple" style="left: 5%; animation-delay: 0s;">🍁</div>
        <div class="leaf oak" style="left: 15%; animation-delay: -3s;">🍃</div>
        <div class="leaf birch" style="left: 25%; animation-delay: -6s;">🌿</div>
        <div class="leaf maple" style="left: 35%; animation-delay: -9s;">🍂</div>
        <div class="leaf small" style="left: 45%; animation-delay: -12s;">🌱</div>
        <div class="leaf oak" style="left: 55%; animation-delay: -2s;">🍃</div>
        <div class="leaf birch" style="left: 65%; animation-delay: -5s;">🌿</div>
        <div class="leaf maple" style="left: 75%; animation-delay: -8s;">🍁</div>
        <div class="leaf small" style="left: 85%; animation-delay: -11s;">🌱</div>
        <div class="leaf oak" style="left: 95%; animation-delay: -14s;">🍃</div>
        
        <!-- Floating Flower Petals -->
        <div class="flower-petal sakura" style="left: 8%; animation-delay: -1s;">🌸</div>
        <div class="flower-petal rose" style="left: 18%; animation-delay: -4s;">🌹</div>
        <div class="flower-petal daisy" style="left: 28%; animation-delay: -7s;">🌼</div>
        <div class="flower-petal lavender" style="left: 38%; animation-delay: -10s;">💜</div>
        <div class="flower-petal sakura" style="left: 48%; animation-delay: -13s;">🌸</div>
        <div class="flower-petal rose" style="left: 58%; animation-delay: -2.5s;">🌺</div>
        <div class="flower-petal daisy" style="left: 68%; animation-delay: -5.5s;">🌼</div>
        <div class="flower-petal lavender" style="left: 78%; animation-delay: -8.5s;">🌻</div>
        <div class="flower-petal sakura" style="left: 88%; animation-delay: -11.5s;">🌸</div>
        
        <!-- Nature Elements -->
        <div class="nature-element branch" style="left: 12%; animation-delay: -3s;">🌳</div>
        <div class="nature-element grass" style="left: 32%; animation-delay: -8s;">🌾</div>
        <div class="nature-element seed" style="left: 52%; animation-delay: -13s;">🌰</div>
        <div class="nature-element branch" style="left: 72%; animation-delay: -5s;">🌲</div>
        <div class="nature-element grass" style="left: 92%; animation-delay: -10s;">🌾</div>
        
        <!-- Floating Bubbles -->
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        
        <!-- Ripple Effects -->
        <div class="ripple"></div>
        <div class="ripple"></div>
        <div class="ripple"></div>
        
        <!-- Floating Nature & Cosmetic Icons -->
        <div class="floating-icons"><i class="bi bi-droplet-fill"></i></div>
        <div class="floating-icons"><i class="bi bi-flower1"></i></div>
        <div class="floating-icons"><i class="bi bi-tree"></i></div>
        <div class="floating-icons"><i class="bi bi-sun"></i></div>
        <div class="floating-icons"><i class="bi bi-cloud"></i></div>
        <div class="floating-icons"><i class="bi bi-droplet"></i></div>
        <div class="floating-icons"><i class="bi bi-flower2"></i></div>
        <div class="floating-icons"><i class="bi bi-brightness-high"></i></div>
        <div class="floating-icons"><i class="bi bi-egg"></i></div>
        <div class="floating-icons"><i class="bi bi-flower3"></i></div>
        <div class="floating-icons"><i class="bi bi-water"></i></div>
        <div class="floating-icons"><i class="bi bi-tree-fill"></i></div>
        <div class="floating-icons">💄</div>
        <div class="floating-icons">💅</div>
        <div class="floating-icons">✨</div>
        <div class="floating-icons">🌸</div>
        <div class="floating-icons">🌺</div>
        <div class="floating-icons">🦋</div>
        
        <!-- Geometric Shapes -->
        <div class="geo-shape circle" style="top: 15%; left: 5%; animation-delay: 0s;"></div>
        <div class="geo-shape triangle" style="top: 30%; left: 85%; animation-delay: -1s;"></div>
        <div class="geo-shape square" style="top: 50%; left: 10%; animation-delay: -2s;"></div>
        <div class="geo-shape diamond" style="top: 70%; left: 75%; animation-delay: -3s;"></div>
        <div class="geo-shape circle" style="top: 80%; left: 30%; animation-delay: -4s;"></div>
        <div class="geo-shape triangle" style="top: 25%; left: 60%; animation-delay: -5s;"></div>
        <div class="geo-shape square" style="top: 65%; left: 90%; animation-delay: -6s;"></div>
        <div class="geo-shape diamond" style="top: 45%; left: 40%; animation-delay: -7s;"></div>
        
        <!-- Sparkles -->
        <div class="sparkle" style="top: 20%; left: 25%; animation-delay: 0s;"></div>
        <div class="sparkle" style="top: 40%; left: 70%; animation-delay: -0.5s;"></div>
        <div class="sparkle" style="top: 60%; left: 15%; animation-delay: -1s;"></div>
        <div class="sparkle" style="top: 75%; left: 80%; animation-delay: -1.5s;"></div>
        <div class="sparkle" style="top: 35%; left: 50%; animation-delay: -2s;"></div>
        <div class="sparkle" style="top: 85%; left: 60%; animation-delay: -2.5s;"></div>
        <div class="sparkle" style="top: 10%; left: 90%; animation-delay: -3s;"></div>
        <div class="sparkle" style="top: 55%; left: 35%; animation-delay: -3.5s;"></div>
        <div class="sparkle" style="top: 90%; left: 20%; animation-delay: -4s;"></div>
        <div class="sparkle" style="top: 25%; left: 85%; animation-delay: -4.5s;"></div>
        
        <!-- Floating Particles -->
        <div class="particle" style="left: 10%; animation-delay: 0s;"></div>
        <div class="particle" style="left: 20%; animation-delay: -1s;"></div>
        <div class="particle" style="left: 30%; animation-delay: -2s;"></div>
        <div class="particle" style="left: 40%; animation-delay: -3s;"></div>
        <div class="particle" style="left: 50%; animation-delay: -4s;"></div>
        <div class="particle" style="left: 60%; animation-delay: -5s;"></div>
        <div class="particle" style="left: 70%; animation-delay: -6s;"></div>
        <div class="particle" style="left: 80%; animation-delay: -7s;"></div>
        <div class="particle" style="left: 90%; animation-delay: -8s;"></div>
        
        <!-- Wave Animation -->
        <div class="wave-container">
            <div class="wave"></div>
            <div class="wave"></div>
            <div class="wave"></div>
        </div>
    </div>

    <!-- Theme Toggle Button -->
    <button class="btn btn-primary btn-theme-toggle" id="themeToggle" title="Chuyển đổi chế độ sáng/tối" 
            style="position: fixed !important; bottom: 20px !important; right: 20px !important; z-index: 99999 !important; border-radius: 50% !important; width: 60px !important; height: 60px !important; padding: 0 !important; box-shadow: 0 6px 20px rgba(0,0,0,0.15) !important; margin: 0 !important; transform: none !important; transition: all 0.3s ease !important; display: flex !important; align-items: center !important; justify-content: center !important;">
        <i class="bi bi-sun-fill text-white" id="themeIcon" style="font-size: 1.5rem;"></i>
    </button>

    <!-- Avatar Crop Modal -->
    <div class="modal fade" id="cropModal" tabindex="-1" aria-labelledby="cropModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="cropModalLabel">
                        <i class="bi bi-crop me-2"></i>Cắt ảnh đại diện
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <p class="text-muted mb-3">Kéo để di chuyển và thu phóng ảnh. Vùng được chọn sẽ là ảnh đại diện của bạn.</p>
                    <div class="crop-container" style="max-width: 350px; margin: 0 auto;">
                        <canvas id="cropCanvas" width="300" height="300" 
                                style="border: 2px solid var(--nature-green-soft); border-radius: 15px; cursor: move; max-width: 100%; transition: all 0.2s ease;"></canvas>
                    </div>
                    <div class="mt-3">
                        <label for="zoomSlider" class="form-label">
                            <i class="bi bi-zoom-in me-1"></i>Thu phóng
                        </label>
                        <input type="range" class="form-range" id="zoomSlider" min="0.5" max="3" step="0.05" value="1" 
                               style="accent-color: var(--nature-green-accent);">
                    </div>
                    <div class="mt-2">
                        <button class="btn btn-outline-secondary btn-sm" id="resetCrop">
                            <i class="bi bi-arrow-counterclockwise me-1"></i>Đặt lại
                        </button>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        <i class="bi bi-x-circle me-1"></i>Hủy
                    </button>
                    <button type="button" class="btn btn-primary" id="applyCrop">
                        <i class="bi bi-check-circle me-1"></i>Áp dụng
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Section -->
    <div id="loginSection" class="form-section active">
        <div class="login-container">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-md-6 col-lg-4">
                        <div class="card">
                            <div class="card-body p-4">
                                <div class="text-center mb-4">
                                    <h2 class="card-title">Đăng Nhập</h2>
                                    <p class="text-muted">Vui lòng đăng nhập vào tài khoản của bạn</p>
                                </div>
                                <form id="loginForm">
                                    <div class="mb-3">
                                        <label for="loginUsername" class="form-label">Email hoặc Tên đăng nhập</label>
                                        <div class="input-group">
                                            <span class="input-group-text"><i class="bi bi-person"></i></span>
                                            <input type="text" class="form-control" id="loginUsername" required>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="loginPassword" class="form-label">Mật khẩu</label>
                                        <div class="input-group">
                                            <span class="input-group-text"><i class="bi bi-lock"></i></span>
                                            <input type="password" class="form-control" id="loginPassword" required>
                                            <button class="btn btn-outline-secondary" type="button" id="toggleLoginPassword">
                                                <i class="bi bi-eye"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="mb-3 form-check">
                                        <input type="checkbox" class="form-check-input" id="rememberMe">
                                        <label class="form-check-label" for="rememberMe">Ghi nhớ đăng nhập</label>
                                    </div>
                                    <div class="d-grid">
                                        <button type="submit" class="btn btn-primary">Đăng Nhập</button>
                                    </div>
                                </form>
                                <div class="text-center mt-3">
                                    <a href="#" class="text-decoration-none" onclick="showSection('forgotPasswordSection')">Quên mật khẩu?</a>
                                </div>
                                <div class="text-center mt-2">
                                    <span class="text-muted">Chưa có tài khoản? </span>
                                    <a href="#" class="text-decoration-none" onclick="showSection('registerSection')">Đăng ký ngay</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Register Section -->
    <div id="registerSection" class="form-section">
        <div class="login-container">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-md-5 col-lg-4">
                        <div class="card">
                            <div class="card-body p-3">
                                <div class="text-center mb-2">
                                    <h5 class="card-title mb-1">Đăng Ký Tài Khoản</h5>
                                    <small class="text-muted">Tạo tài khoản mới</small>
                                </div>
                                <form id="registerForm">
                                    <div class="mb-2">
                                        <label for="registerName" class="form-label">Họ và tên</label>
                                        <input type="text" class="form-control" id="registerName" required>
                                    </div>
                                    <div class="mb-2">
                                        <label for="registerEmail" class="form-label">Email</label>
                                        <input type="email" class="form-control" id="registerEmail" required>
                                    </div>
                                    <div class="mb-2">
                                        <label for="registerUsername" class="form-label">Tên đăng nhập</label>
                                        <input type="text" class="form-control" id="registerUsername" required>
                                    </div>
                                    <div class="mb-2">
                                        <label for="registerPassword" class="form-label">Mật khẩu</label>
                                        <div class="input-group">
                                            <input type="password" class="form-control" id="registerPassword" required>
                                            <button class="btn btn-outline-secondary" type="button" id="toggleRegisterPassword">
                                                <i class="bi bi-eye"></i>
                                            </button>
                                        </div>
                                        <div class="strength-meter mt-1">
                                            <div class="strength-bar" id="strengthBar"></div>
                                        </div>
                                        <small class="text-muted" id="strengthText">Nhập mật khẩu để kiểm tra độ mạnh</small>
                                    </div>
                                    <div class="mb-2">
                                        <label for="confirmPassword" class="form-label">Xác nhận mật khẩu</label>
                                        <input type="password" class="form-control" id="confirmPassword" required>
                                    </div>
                                    <div class="mb-3 form-check">
                                        <input type="checkbox" class="form-check-input" id="agreeTerms" required>
                                        <label class="form-check-label" for="agreeTerms">
                                            Tôi đồng ý với <a href="#" class="text-decoration-none">điều khoản sử dụng</a>
                                        </label>
                                    </div>
                                    <div class="d-grid">
                                        <button type="submit" class="btn btn-primary">Đăng Ký</button>
                                    </div>
                                </form>
                                <div class="text-center mt-2">
                                    <span class="text-muted">Đã có tài khoản? </span>
                                    <a href="#" class="text-decoration-none" onclick="showSection('loginSection')">Đăng nhập</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Forgot Password Section -->
    <div id="forgotPasswordSection" class="form-section">
        <div class="login-container">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-md-6 col-lg-4">
                        <div class="card">
                            <div class="card-body p-4">
                                <div class="text-center mb-4">
                                    <h2 class="card-title">Quên Mật Khẩu</h2>
                                    <p class="text-muted">Nhập email để đặt lại mật khẩu</p>
                                </div>
                                <form id="forgotPasswordForm">
                                    <div class="mb-3">
                                        <label for="forgotEmail" class="form-label">Email</label>
                                        <div class="input-group">
                                            <span class="input-group-text"><i class="bi bi-envelope"></i></span>
                                            <input type="email" class="form-control" id="forgotEmail" required>
                                        </div>
                                    </div>
                                    <div class="d-grid">
                                        <button type="submit" class="btn btn-primary">Gửi Email Đặt Lại</button>
                                    </div>
                                </form>
                                <div class="text-center mt-3">
                                    <a href="#" class="text-decoration-none" onclick="showSection('loginSection')">Quay lại đăng nhập</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Reset Password Section -->
    <div id="resetPasswordSection" class="form-section">
        <div class="login-container">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-md-6 col-lg-4">
                        <div class="card">
                            <div class="card-body p-4">
                                <div class="text-center mb-4">
                                    <h2 class="card-title">Đặt Lại Mật Khẩu</h2>
                                    <p class="text-muted">Nhập mật khẩu mới</p>
                                </div>
                                <form id="resetPasswordForm">
                                    <div class="mb-3">
                                        <label for="newPassword" class="form-label">Mật khẩu mới</label>
                                        <input type="password" class="form-control" id="newPassword" required>
                                        <div class="strength-meter">
                                            <div class="strength-bar" id="resetStrengthBar"></div>
                                        </div>
                                        <small class="text-muted" id="resetStrengthText">Nhập mật khẩu để kiểm tra độ mạnh</small>
                                    </div>
                                    <div class="mb-3">
                                        <label for="confirmNewPassword" class="form-label">Xác nhận mật khẩu mới</label>
                                        <input type="password" class="form-control" id="confirmNewPassword" required>
                                    </div>
                                    <div class="d-grid">
                                        <button type="submit" class="btn btn-primary">Đặt Lại Mật Khẩu</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Section -->
    <div id="dashboardSection" class="form-section">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-md-3 col-lg-2 sidebar p-0">
                <div class="p-3">
                    <h5 class="mb-3">Quản Lý Tài Khoản - Mỹ Phẩm</h5>
                    <div class="nav nav-pills flex-column">
                        <a class="nav-link active" href="#" onclick="showDashboardTab('profileTab')">
                            <i class="bi bi-person-circle me-2"></i>Thông Tin
                        </a>
                        <a class="nav-link" href="#" onclick="showDashboardTab('ordersTab')">
                            <i class="bi bi-bag-check me-2"></i>Đơn Hàng
                        </a>
                        <hr class="my-3">
                        <a class="nav-link text-danger" href="#" onclick="logout()">
                            <i class="bi bi-box-arrow-right me-2"></i>Đăng Xuất
                        </a>
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="col-md-9 col-lg-10">
                <div class="p-4">
                    <!-- Profile, Settings & Change Password Tab -->
                    <div id="profileTab" class="dashboard-tab">
                        <div class="row">
                            <!-- Profile Avatar and Info - Made Larger -->
                            <div class="col-md-5">
                                <div class="card h-100">
                                    <div class="card-body text-center d-flex flex-column justify-content-center">
                                        <div class="profile-avatar mx-auto mb-4" id="profileAvatar">
                                            <i class="bi bi-person" style="font-size: 4rem;"></i>
                                            <input type="file" id="avatarInput" accept="image/*" style="display: none;" onchange="handleAvatarChange(event)">
                                        </div>
                                        <h4 id="profileName" class="mb-2">Người dùng</h4>
                                        <p class="text-muted mb-3" id="profileEmail">user@example.com</p>
                                        <span class="badge bg-success fs-6 px-3 py-2 mb-4">Email đã xác thực</span>
                                        
                                        <!-- Test Avatar Button -->
                                        <div class="mb-3">
                                            <button class="btn btn-outline-primary btn-sm" onclick="testAvatarFunction()" title="Thay đổi ảnh đại diện">
                                                <i class="bi bi-camera"></i> Thay đổi ảnh đại diện
                                            </button>
                                        </div>
                                        
                                        <!-- Quick Stats -->
                                        <div class="mt-auto">
                                            <div class="row text-center">
                                                <div class="col-4">
                                                    <div class="border-end">
                                                        <h5 class="text-primary mb-1" id="userTotalOrders">5</h5>
                                                        <small class="text-muted">Đơn hàng</small>
                                                    </div>
                                                </div>
                                                <div class="col-4">
                                                    <div class="border-end">
                                                        <h5 class="text-success mb-1" id="userTotalSpent">₫11.4M</h5>
                                                        <small class="text-muted">Đã mua</small>
                                                    </div>
                                                </div>
                                                <div class="col-4">
                                                    <h5 class="text-info mb-1" id="memberSince">01/2025</h5>
                                                    <small class="text-muted">Thành viên</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Profile Settings & Forms - Made Larger -->
                            <div class="col-md-7">
                                <!-- Navigation Tabs -->
                                <ul class="nav nav-tabs nav-justified" id="profileTabs" role="tablist">
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link active" id="profile-info-tab" data-bs-toggle="tab" data-bs-target="#profile-info" type="button" role="tab">
                                            <i class="bi bi-person me-1"></i>Thông tin cá nhân
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="change-password-tab" data-bs-toggle="tab" data-bs-target="#change-password" type="button" role="tab">
                                            <i class="bi bi-key me-1"></i>Đổi mật khẩu
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="settings-tab" data-bs-toggle="tab" data-bs-target="#settings" type="button" role="tab">
                                            <i class="bi bi-gear me-1"></i>Cài đặt
                                        </button>
                                    </li>
                                </ul>
                                
                                <div class="tab-content mt-3" id="profileTabsContent">
                                    <!-- Profile Information -->
                                    <div class="tab-pane fade show active" id="profile-info" role="tabpanel">
                                        <div class="card">
                                            <div class="card-header text-center py-1">
                                                <h6 class="card-title mb-0">
                                                    <i class="bi bi-person-lines-fill me-1"></i>Chỉnh sửa thông tin cá nhân
                                                </h6>
                                            </div>
                                            <div class="card-body p-3">
                                                <form id="profileForm" autocomplete="off" novalidate>
                                                    <div class="row">
                                                        <div class="col-md-6 mb-2">
                                                            <label for="editName" class="form-label">
                                                                <i class="bi bi-person me-1"></i>Họ và tên *
                                                            </label>
                                                            <input type="text" class="form-control" id="editName" required onkeydown="preventEnterSubmit(event)">
                                                        </div>
                                                        <div class="col-md-6 mb-2">
                                                            <label for="editEmail" class="form-label">
                                                                <i class="bi bi-envelope me-1"></i>Email *
                                                            </label>
                                                            <input type="email" class="form-control" id="editEmail" required onkeydown="preventEnterSubmit(event)">
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-6 mb-2">
                                                            <label for="editPhone" class="form-label">
                                                                <i class="bi bi-telephone me-1"></i>Số điện thoại
                                                            </label>
                                                            <input type="tel" class="form-control" id="editPhone" onkeydown="preventEnterSubmit(event)">
                                                        </div>
                                                        <div class="col-md-6 mb-2">
                                                            <label for="editBirthday" class="form-label">
                                                                <i class="bi bi-calendar me-1"></i>Ngày sinh
                                                            </label>
                                                            <input type="date" class="form-control" id="editBirthday" onkeydown="preventEnterSubmit(event)">
                                                        </div>
                                                    </div>
                                                    <div class="mb-2">
                                                        <label class="form-label">
                                                            <i class="bi bi-gender-ambiguous me-1"></i>Giới tính
                                                        </label>
                                                        <div class="d-flex gap-4 mt-2">
                                                            <div class="form-check">
                                                                <input class="form-check-input" type="radio" name="gender" id="genderMale" value="male">
                                                                <label class="form-check-label" for="genderMale">
                                                                    <i class="bi bi-person me-1"></i>Nam
                                                                </label>
                                                            </div>
                                                            <div class="form-check">
                                                                <input class="form-check-input" type="radio" name="gender" id="genderFemale" value="female">
                                                                <label class="form-check-label" for="genderFemale">
                                                                    <i class="bi bi-person-dress me-1"></i>Nữ
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="d-flex gap-2">
                                                        <button type="submit" class="btn btn-primary">
                                                            <i class="bi bi-check-lg me-1"></i>Lưu thay đổi
                                                        </button>
                                                        <button type="button" class="btn btn-outline-secondary" onclick="resetProfileForm()">
                                                            <i class="bi bi-arrow-counterclockwise me-1"></i>Đặt lại
                                                        </button>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Change Password -->
                                    <div class="tab-pane fade" id="change-password" role="tabpanel">
                                        <div class="card">
                                            <div class="card-header text-center py-1">
                                                <h6 class="card-title mb-0">
                                                    <i class="bi bi-shield-lock me-1"></i>Đổi mật khẩu
                                                </h6>
                                            </div>
                                            <div class="card-body p-2">
                                                <form id="changePasswordForm">
                                                    <div class="mb-1">
                                                        <label for="currentPassword" class="form-label">Mật khẩu hiện tại *</label>
                                                        <div class="input-group">
                                                            <input type="password" class="form-control" id="currentPassword" required>
                                                            <button class="btn btn-outline-secondary" type="button" id="toggleCurrentPassword">
                                                                <i class="bi bi-eye"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <div class="mb-1">
                                                        <label for="newPasswordChange" class="form-label">Mật khẩu mới *</label>
                                                        <div class="input-group">
                                                            <input type="password" class="form-control" id="newPasswordChange" required>
                                                            <button class="btn btn-outline-secondary" type="button" id="toggleNewPasswordChange">
                                                                <i class="bi bi-eye"></i>
                                                            </button>
                                                        </div>
                                                        <div class="strength-meter mt-1">
                                                            <div class="strength-bar" id="changeStrengthBar"></div>
                                                        </div>
                                                        <small class="text-muted" id="changeStrengthText">Nhập mật khẩu để kiểm tra độ mạnh</small>
                                                    </div>
                                                    <div class="mb-1">
                                                        <label for="confirmNewPasswordChange" class="form-label">Xác nhận mật khẩu mới *</label>
                                                        <div class="input-group">
                                                            <input type="password" class="form-control" id="confirmNewPasswordChange" required>
                                                            <button class="btn btn-outline-secondary" type="button" id="toggleConfirmPasswordChange">
                                                                <i class="bi bi-eye"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <small class="text-muted d-block mb-1">
                                                        <i class="bi bi-info-circle me-1"></i>
                                                        Mật khẩu nên có ít nhất 8 ký tự, bao gồm chữ hoa, số và ký tự đặc biệt
                                                    </small>
                                                    <div class="d-flex gap-2">
                                                        <button type="submit" class="btn btn-primary">
                                                            <i class="bi bi-shield-check me-1"></i>Đổi mật khẩu
                                                        </button>
                                                        <button type="button" class="btn btn-outline-secondary">
                                                            <i class="bi bi-x me-1"></i>Hủy
                                                        </button>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Settings - Simplified -->
                                    <div class="tab-pane fade" id="settings" role="tabpanel">
                                        <div class="card">
                                            <div class="card-header text-center py-1">
                                                <h6 class="card-title mb-0">
                                                    <i class="bi bi-sliders me-1"></i>Cài đặt tài khoản
                                                </h6>
                                            </div>
                                            <div class="card-body p-3">
                                                <form id="settingsForm">
                                                    <!-- Theme Settings -->
                                                    <div class="mb-2">
                                                        <h6 class="mb-2">
                                                            <i class="bi bi-palette me-1"></i>Giao diện
                                                        </h6>
                                                        <div class="border rounded p-2 bg-light">
                                                            <div class="form-check mb-1">
                                                                <input class="form-check-input" type="radio" name="themeOptions" id="lightTheme" value="light">
                                                                <label class="form-check-label" for="lightTheme">
                                                                    <i class="bi bi-sun me-1"></i>Chế độ sáng
                                                                </label>
                                                            </div>
                                                            <div class="form-check">
                                                                <input class="form-check-input" type="radio" name="themeOptions" id="darkTheme" value="dark">
                                                                <label class="form-check-label" for="darkTheme">
                                                                    <i class="bi bi-moon me-1"></i>Chế độ tối
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                    <!-- Notification Settings -->
                                                    <div class="mb-2">
                                                        <h6 class="mb-2">
                                                            <i class="bi bi-bell me-1"></i>Thông báo
                                                        </h6>
                                                        <div class="border rounded p-2 bg-light">
                                                            <div class="form-check form-switch mb-1">
                                                                <input class="form-check-input" type="checkbox" id="emailNotifications" checked>
                                                                <label class="form-check-label" for="emailNotifications">
                                                                    <i class="bi bi-envelope me-1"></i>Email thông báo đơn hàng
                                                                </label>
                                                            </div>
                                                            <div class="form-check form-switch mb-1">
                                                                <input class="form-check-input" type="checkbox" id="promoNotifications" checked>
                                                                <label class="form-check-label" for="promoNotifications">
                                                                    <i class="bi bi-gift me-1"></i>Khuyến mãi và ưu đãi mỹ phẩm
                                                                </label>
                                                            </div>
                                                            <div class="form-check form-switch">
                                                                <input class="form-check-input" type="checkbox" id="newProductNotifications">
                                                                <label class="form-check-label" for="newProductNotifications">
                                                                    <i class="bi bi-stars me-1"></i>Sản phẩm mỹ phẩm mới
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                    <div class="d-flex gap-2">
                                                        <button type="submit" class="btn btn-primary">
                                                            <i class="bi bi-check-lg me-1"></i>Lưu cài đặt
                                                        </button>
                                                        <button type="button" class="btn btn-outline-secondary">
                                                            <i class="bi bi-arrow-counterclockwise me-1"></i>Khôi phục mặc định
                                                        </button>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Orders Tab -->
                    <div id="ordersTab" class="dashboard-tab" style="display: none;">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="card-title mb-0">Quản Lý Đơn Hàng</h5>
                                <div>
                                    <button class="btn btn-sm btn-outline-primary" onclick="refreshOrders()">
                                        <i class="bi bi-arrow-clockwise"></i> Làm mới
                                    </button>
                                </div>
                            </div>
                            <div class="card-body">
                                <!-- Order Statistics -->
                                <div class="row mb-4">
                                    <div class="col-md-3 col-sm-6 mb-3">
                                        <div class="card bg-primary text-white" style="cursor: pointer;" onclick="filterOrdersByStatus('pending')">
                                            <div class="card-body text-center">
                                                <i class="bi bi-clock-history mb-2" style="font-size: 2rem;"></i>
                                                <h6 class="card-title">Chờ xác nhận</h6>
                                                <h4 id="pendingCount">2</h4>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-sm-6 mb-3">
                                        <div class="card bg-warning text-white" style="cursor: pointer;" onclick="filterOrdersByStatus('shipping')">
                                            <div class="card-body text-center">
                                                <i class="bi bi-truck mb-2" style="font-size: 2rem;"></i>
                                                <h6 class="card-title">Đang giao</h6>
                                                <h4 id="shippingCount">1</h4>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-sm-6 mb-3">
                                        <div class="card bg-success text-white" style="cursor: pointer;" onclick="filterOrdersByStatus('delivered')">
                                            <div class="card-body text-center">
                                                <i class="bi bi-check-circle mb-2" style="font-size: 2rem;"></i>
                                                <h6 class="card-title">Đã giao</h6>
                                                <h4 id="deliveredCount">5</h4>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-sm-6 mb-3">
                                        <div class="card bg-secondary text-white" style="cursor: pointer;" onclick="filterOrdersByStatus('')">
                                            <div class="card-body text-center">
                                                <i class="bi bi-basket mb-2" style="font-size: 2rem;"></i>
                                                <h6 class="card-title">Tất cả đơn</h6>
                                                <h4 id="totalCount">8</h4>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Orders List -->
                                <div id="ordersList">
                                    <!-- Sample orders will be loaded here by JavaScript -->
                                </div>

                                <!-- Pagination -->
                                <nav aria-label="Orders pagination" class="mt-4">
                                    <ul class="pagination justify-content-center" id="ordersPagination">
                                        <li class="page-item disabled">
                                            <a class="page-link" href="#">Trước</a>
                                        </li>
                                        <li class="page-item active">
                                            <a class="page-link" href="#">1</a>
                                        </li>
                                        <li class="page-item">
                                            <a class="page-link" href="#">2</a>
                                        </li>
                                        <li class="page-item">
                                            <a class="page-link" href="#">Sau</a>
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JavaScript -->
    <script src="quanlitaikhoan.js"></script>
</body>
</html>
